//------------Sonic CD FaceProjectile Script-------------//
//--------Scripted by Christian Whitehead 'The Taxman'--------//
//-------Unpacked By Rubberduckycooly's Script Unpacker-------//

// Aliases
#alias 63: TYPE_FACEPROJECTILE


sub ObjectMain
	Object.XPos += Object.Value1
	if Object.OutOfBounds == 1
		Object.Type = TypeName[BlankObject]
	end if
end sub


sub ObjectPlayerInteraction
#platform: Mobile
	if Player.YVelocity > -917504
#endplatform
		PlayerObjectCollision(C_TOUCH, -13, -8, 13, 8)
		if CheckResult == 1
			if Object.Direction == FACING_RIGHT
				if Player.Left == true
					if Player.Speed > -196608
						Player.Speed = -196608
					end if
				else
					if Player.Right == true
						Player.Speed = -131072
					else
						Player.Speed = -196608
					end if
				end if
			else
				if Player.Right == true
					if Player.Speed < 196608
						Player.Speed = 196608
					end if
				else
					if Player.Left == true
						Player.Speed = 131072
					else
						Player.Speed = 196608
					end if
				end if
			end if
		end if
#platform: Mobile
	end if
#endplatform
end sub


sub ObjectDraw
	if Object.AnimationTimer > 9
		Object.Direction += 2
		DrawSpriteFX(0, FX_FLIP, Object.XPos, Object.YPos)
		Object.Direction -= 2
	else
		DrawSpriteFX(0, FX_FLIP, Object.XPos, Object.YPos)
	end if
	Object.AnimationTimer++
	Object.AnimationTimer %= 20
end sub


sub ObjectStartup
	LoadSpriteSheet("R4/Objects2.gif")
	SpriteFrame(-16, -8, 32, 16, 152, 159)
end sub

sub RSDK
	LoadSpriteSheet("Global/Display.gif")
	SetEditorIcon(Icon0, SingleIcon, -16, -16, 32, 32, 1, 143)
end sub
